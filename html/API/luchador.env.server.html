

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>luchador.env.server module &mdash; Luchador v0.3.0-15-g4bbb9da documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  

  

  
        <link rel="index" title="Index"
              href="../genindex.html"/>
        <link rel="search" title="Search" href="../search.html"/>
    <link rel="top" title="Luchador v0.3.0-15-g4bbb9da documentation" href="../index.html"/> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> Luchador
          

          
          </a>

          
            
            
              <div class="version">
                v0.3.0-15-g4bbb9da
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <!-- Local TOC -->
                <div class="local-toc"><ul>
<li><a class="reference internal" href="#">luchador.env.server module</a><ul>
<li><a class="reference internal" href="#server-api">Server API</a></li>
</ul>
</li>
</ul>
</div>
            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../index.html">Luchador</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          

 



<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../index.html">Docs</a> &raquo;</li>
      
    <li>luchador.env.server module</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../_sources/API/luchador.env.server.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="module-luchador.env.server">
<span id="luchador-env-server-module"></span><h1>luchador.env.server module<a class="headerlink" href="#module-luchador.env.server" title="Permalink to this headline">¶</a></h1>
<p>Module for running Environment on remote server</p>
<p>Server module is for running Environment as an application independant from
Agent program. Environment methods are called with API routes with identical
names and parameters are passed via POST method. Server can be created using
<a class="reference internal" href="#luchador.env.server.create_env_app" title="luchador.env.server.create_env_app"><code class="xref py py-func docutils literal"><span class="pre">create_env_app()</span></code></a> as following.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">luchador.env</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">env</span> <span class="o">=</span> <span class="n">luchador</span><span class="o">.</span><span class="n">env</span><span class="o">.</span><span class="n">get_env</span><span class="p">(</span><span class="n">name</span><span class="p">)(</span><span class="o">**</span><span class="n">args</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">app</span> <span class="o">=</span> <span class="n">luchador</span><span class="o">.</span><span class="n">env</span><span class="o">.</span><span class="n">server</span><span class="o">.</span><span class="n">create_env_app</span><span class="p">(</span><span class="n">env</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">server</span> <span class="o">=</span> <span class="n">luchador</span><span class="o">.</span><span class="n">env</span><span class="o">.</span><span class="n">server</span><span class="o">.</span><span class="n">create_server</span><span class="p">(</span><span class="n">app</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">server</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>
</pre></div>
</div>
<div class="section" id="server-api">
<h2>Server API<a class="headerlink" href="#server-api" title="Permalink to this headline">¶</a></h2>
<table border="1" class="docutils">
<colgroup>
<col width="12%" />
<col width="88%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td colspan="2"><strong>Retrie Environment information running on server</strong></td>
</tr>
<tr class="row-even"><td>URL</td>
<td><code class="docutils literal"><span class="pre">/</span></code> or <code class="docutils literal"><span class="pre">/info</span></code></td>
</tr>
<tr class="row-odd"><td>Method</td>
<td><code class="docutils literal"><span class="pre">POST</span></code> or <code class="docutils literal"><span class="pre">GET</span></code></td>
</tr>
<tr class="row-even"><td>Success
Response</td>
<td><p class="first"><strong>Code</strong>: 200</p>
<dl class="last docutils">
<dt><strong>Content (JSON)</strong></dt>
<dd><code class="docutils literal"><span class="pre">environment</span></code>: <code class="docutils literal"><span class="pre">&quot;Environment</span> <span class="pre">representation&quot;</span></code></dd>
</dl>
</td>
</tr>
</tbody>
</table>
<table border="1" class="docutils">
<colgroup>
<col width="12%" />
<col width="88%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td colspan="2"><strong>Retrie the outcome from the last state transition</strong></td>
</tr>
<tr class="row-even"><td>URL</td>
<td><code class="docutils literal"><span class="pre">/outcome</span></code></td>
</tr>
<tr class="row-odd"><td>Method</td>
<td><code class="docutils literal"><span class="pre">POST</span></code> or <code class="docutils literal"><span class="pre">GET</span></code></td>
</tr>
<tr class="row-even"><td>Success
Response</td>
<td><p class="first"><strong>Code</strong>: 200</p>
<p><strong>Content (JSON)</strong>:</p>
<blockquote class="last">
<div><p><code class="docutils literal"><span class="pre">observation</span></code>: <code class="docutils literal"><span class="pre">&quot;Observation</span> <span class="pre">string&quot;</span></code></p>
<p><code class="docutils literal"><span class="pre">reward</span></code>: <code class="docutils literal"><span class="pre">Number</span></code></p>
<p><code class="docutils literal"><span class="pre">terminal</span></code>: <code class="docutils literal"><span class="pre">Boolean</span></code></p>
<p><code class="docutils literal"><span class="pre">state</span></code>: <code class="docutils literal"><span class="pre">Dictionary</span> <span class="pre">containing</span> <span class="pre">environment</span> <span class="pre">state</span></code></p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<table border="1" class="docutils">
<colgroup>
<col width="12%" />
<col width="88%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td colspan="2"><strong>Retrie the number of valid actions in the environment</strong></td>
</tr>
<tr class="row-even"><td>URL</td>
<td><code class="docutils literal"><span class="pre">/n_actions</span></code></td>
</tr>
<tr class="row-odd"><td>Method</td>
<td><code class="docutils literal"><span class="pre">POST</span></code> or <code class="docutils literal"><span class="pre">GET</span></code></td>
</tr>
<tr class="row-even"><td>Success
Response</td>
<td><p class="first"><strong>Code</strong>: 200</p>
<dl class="last docutils">
<dt><strong>Content (JSON)</strong>:</dt>
<dd><code class="docutils literal"><span class="pre">n_actions</span></code>: <code class="docutils literal"><span class="pre">integer</span></code></dd>
</dl>
</td>
</tr>
</tbody>
</table>
<table border="1" class="docutils">
<colgroup>
<col width="12%" />
<col width="88%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td colspan="2"><strong>Reset environment</strong></td>
</tr>
<tr class="row-even"><td>URL</td>
<td><code class="docutils literal"><span class="pre">/reset</span></code></td>
</tr>
<tr class="row-odd"><td>Method</td>
<td><code class="docutils literal"><span class="pre">POST</span></code> or <code class="docutils literal"><span class="pre">GET</span></code></td>
</tr>
<tr class="row-even"><td>Success
Response</td>
<td>See <code class="docutils literal"><span class="pre">/outcome</span></code></td>
</tr>
</tbody>
</table>
<table border="1" class="docutils">
<colgroup>
<col width="14%" />
<col width="86%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td colspan="2"><strong>Advance environment with one step</strong></td>
</tr>
<tr class="row-even"><td>URL</td>
<td><code class="docutils literal"><span class="pre">/step</span></code></td>
</tr>
<tr class="row-odd"><td>Method</td>
<td><code class="docutils literal"><span class="pre">POST</span></code></td>
</tr>
<tr class="row-even"><td>Data Params</td>
<td><code class="docutils literal"><span class="pre">action</span></code>: <code class="docutils literal"><span class="pre">integer</span></code></td>
</tr>
<tr class="row-odd"><td>Success
Response</td>
<td>See <code class="docutils literal"><span class="pre">/outcome</span></code></td>
</tr>
</tbody>
</table>
<table border="1" class="docutils">
<colgroup>
<col width="12%" />
<col width="88%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td colspan="2"><strong>Shut down this environment and stop the server</strong></td>
</tr>
<tr class="row-even"><td>URL</td>
<td><code class="docutils literal"><span class="pre">/kill</span></code></td>
</tr>
<tr class="row-odd"><td>Method</td>
<td><code class="docutils literal"><span class="pre">POST</span></code> or <code class="docutils literal"><span class="pre">GET</span></code></td>
</tr>
<tr class="row-even"><td>Success
Response</td>
<td><p class="first"><strong>Code</strong>: 200</p>
<dl class="last docutils">
<dt><strong>Content (JSON)</strong>:</dt>
<dd><code class="docutils literal"><span class="pre">result</span></code>: <code class="docutils literal"><span class="pre">success</span></code> or <code class="docutils literal"><span class="pre">failed</span></code></dd>
</dl>
</td>
</tr>
</tbody>
</table>
<dl class="function">
<dt id="luchador.env.server.create_env_app">
<code class="descclassname">luchador.env.server.</code><code class="descname">create_env_app</code><span class="sig-paren">(</span><em>env</em><span class="sig-paren">)</span><a class="headerlink" href="#luchador.env.server.create_env_app" title="Permalink to this definition">¶</a></dt>
<dd><p>Create Flask server for the given Environment</p>
<p>See module documentation for the derail of API call</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>env</strong> : Environment</p>
<blockquote>
<div><p>Environment to run on server</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Flask</p>
<blockquote class="last">
<div><p>Flask application which run the given environment</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="luchador.env.server.create_server">
<code class="descclassname">luchador.env.server.</code><code class="descname">create_server</code><span class="sig-paren">(</span><em>app</em>, <em>port=5000</em>, <em>host='0.0.0.0'</em><span class="sig-paren">)</span><a class="headerlink" href="#luchador.env.server.create_server" title="Permalink to this definition">¶</a></dt>
<dd><p>Mount application on cherrypy WSGI server</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>app</strong> : a dict or list of (path_prefix, app) pairs</p>
<blockquote>
<div><p>See <code class="xref py py-func docutils literal"><span class="pre">create_app()</span></code></p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">WSGIServer object</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
</div>


           </div>
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2016, moto.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'v0.3.0-15-g4bbb9da',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>